          <ask>
             <dialog config:type="integer">30</dialog>
             <element config:type="integer">10</element>
             <width config:type="integer">70</width>
             <height config:type="integer">20</height>
             <help><![CDATA[
             <p><b>SAP Solution Manager Key</b><br>Enter the system's Solution Manager Key. <br>Use the entries for <b>SID</b>, <b>Instance Number</b> and <b>virt. hostname</b> you entered above to generate the key. <br>Please ensure to enter a valid Solution Manager key, otherwise the installation will stop and ask you for a valid key during the unattended installation phase.</p>
]]>
</help>
             <file>/tmp/ay_q_solmankey</file>
             <question>SAP Solution Manager Key</question>
             <stage>cont</stage>
             <default>0123456789</default>
             <script>
                <filename>my_sol.sh</filename>
                <rerun_on_error config:type="boolean">true</rerun_on_error>
                <environment config:type="boolean">true</environment>
                <source><![CDATA[
function check_solman_key() {
        local sol=$1

        LC_ALL=POSIX

        [ -z "$sol" ] && echo "You must provide a SAP Solution Manager Key!" && return 1
        [ "${#sol}" -ne 10 ] && echo "The SAP Solution Manager Key needs to be exactly 10 chars long. You entered '${#sol}' chars." && return 1
        [ -n "${sol//[0-9A-F]/}" ] && echo "The SAP Solution Manager Key can only contain digits and uppercase letters. Found this: '${sol//[0-9A-F]/}'." && return 1

        return 0
}
check_solman_key "$VAL"
]]>
                </source>
                <debug config:type="boolean">false</debug>
                <feedback config:type="boolean">true</feedback>
             </script>
          </ask>
